<!DOCTYPE html>
<html class="no-js" lang="ru">
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    
    <title>Списки и картинки с флоатами</title>
    <meta name="description" content="Как улучшить обтекание списков картинками.">
    <meta name="keywords" content="Paul Radzkov, web-developer, blog, html, css">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    
    <meta name="generator" content="DocPad v6.78.4">

    
    <link rel="stylesheet" href="http://paulradzkov.github.io/css/template.css">

    
    
    <link rel="shortcut icon" href="http://paulradzkov.github.io/favicon.ico">
    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://paulradzkov.github.io/atom.xml">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://paulradzkov.github.io/rss.xml">
    <link rel="canonical" href="http://paulradzkov.github.io/2013/lists_and_floats/">

    <script type="text/javascript">!function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return window.localStorage&&localStorage.font_css_cache&&localStorage.font_css_cache_file===e}function n(){if(window.localStorage&&window.XMLHttpRequest)if(t(o))c(localStorage.font_css_cache);else{var e=new XMLHttpRequest;e.open("GET",o,!0),e.onreadystatechange=function(){4===e.readyState&&(c(e.responseText),localStorage.font_css_cache=e.responseText,localStorage.font_css_cache_file=o)},e.send()}else{var n=document.createElement("link");n.href=o,n.rel="stylesheet",n.type="text/css",document.getElementsByTagName("head")[0].appendChild(n),document.cookie="font_css_cache"}}function c(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}var o="http://paulradzkov.github.io/fonts/webfonts.css?v=0.0.1";window.localStorage&&localStorage.font_css_cache||document.cookie.indexOf("font_css_cache")>-1?n():e(window,"load",n)}();</script><meta property="og:title" content="Списки и картинки с флоатами">
<meta property="og:description" content="Как улучшить обтекание списков картинками.">

    <meta property="og:image" content="http://paulradzkov.github.io/i/og/og-index.png">


    <meta property="og:type" content="article">
    <meta property="og:article:published_time" content="Thu Jan 24 2013 03:00:00 GMT+0300 (FET)">
    
    <meta property="og:article:author" content="Павел Радьков">
    
    
    <meta property="og:article:tag" content="css, typography, css, typography">
    

<meta property="og:locale" content="ru_RU">

    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@paul_radzkov">
<meta name="twitter:title" content="Списки и картинки с флоатами">
<meta name="twitter:description" content="Как улучшить обтекание списков картинками.">

<meta name="twitter:image" content="http://paulradzkov.github.io/i/og/og-index.png">



    
    <script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-29416794-1","paulradzkov.com"),ga("send","pageview");</script></head><body class="layout-article">
    
    
    <header class="page-header">
        <nav class="read-siblings">
            <div class="navlinks">
  <a href="/2012/pointer-events/" title="Previous Post: Pointer-events" class="navlinks-prev">&laquo; Pointer-events</a>
  <a href="/2014/negation_css_selector/" title="Next Post: CSS-селектор :not(). Полезные примеры" class="navlinks-next">CSS-селектор :not(). Полезные примеры &raquo;</a>
</div>
        </nav>
        <nav class="site-navigation">
            <a class="nav-icon nav-icon-centered js-menu-trigger" href="/" data-toggle="tooltip" data-placement="right" title="На главную"><img src="/i/home.svg" width="28" height="28" alt="На главную" onerror="this.onerror=null,this.src=&quot;/i/home.png&quot;"><span class="visuallyhidden">На главную</span></a>
        </nav>
        <aside class="nav-placeholder article-meta content-width">
            
            <p class="date"><time datetime="Thu Jan 24 2013 03:00:00 GMT+0300 (FET)">24 января 2013</time></p>
            
        </aside>
        <div class="content-width">
            <h1 class="article-title">Списки и картинки с флоатами</h1>
        </div>
        <aside class="article-meta content-width inlined">
            
            <span class="tags-list">
                
                    <a class="tag" href="/tags/css/">css</a>
                
                    <a class="tag" href="/tags/typography/">typography</a>
                
            </span>
            
            
            <span class="comments"><a href="#disqus_thread" data-disqus-identifier="lists-and-floats">Комментарии</a></span>
            
            <span class="pageviews" style="display:none"></span>
        </aside>

    </header>
    
    
        <nav class="site-navigation sticky-nav" id="sticker">
            <a class="nav-icon js-menu-trigger" href="/" data-toggle="tooltip" data-placement="right" title="На главную"><img src="/i/home.svg" width="28" height="28" alt="На главную" onerror="this.onerror=null,this.src=&quot;/i/home.png&quot;"><span class="visuallyhidden">На главную</span></a>
        </nav>
    
    
    <article class="nav-placeholder page-content content-width" role="main">
        <p><strong>Обновлено 12 декабря 2015. Спустя три года после написания этого поста в голову пришло более простое и стабильное решение.</strong></p>

<p>Для дефолтных браузерных стилей характерно такое поведение: если картинка обтекает список слева, маркеры списка налазят на картинку. От этого можно избавиться незначительно переписав стили. </p>



<p><a href="http://cssdeck.com/labs/floated-images-and-lists" class="link-to-demo" target="_blank">демка</a></p>
<figure>
    <img src="/2013/lists_and_floats//floated_images_and_lists_problem.png" width="800" height="560" alt="Если картинка обтекает список, маркеры списка налазят на картинку">
    <figcaption>Проблема: если картинка обтекает список, то маркеры списка налазят на картинку</figcaption>
</figure>

<p><a data-toggle="collapse" data-target="#oldSolution" aria-expanded="false" aria-controls="oldSolution">Старое решение</a></p>

<div id="oldSolution" class="collapse">

<p>Эту проблему можно решить, но придется переписать все отступы для тегов <code class="hljs-tag">ul</code>, <code class="hljs-tag">ol</code> и <code class="hljs-tag">li</code>. Так как <code class="hljs-tag nobr">ul > li</code> могут использоваться не только для текста с маркерами, но и для менюшек, слайдеров, списков новостей и других семантических конструкций, задавать стили напрямую тегам <code class="hljs-tag">ol</code>, <code class="hljs-tag">ul</code> и <code class="hljs-tag">li</code> опасно. Иначе в дальнейшем придется слишком часто эти стили обнулять. Поэтому создадим отдельный класс <code class="hljs-class">.textlist</code>, чтобы ставить его на наши <code class="hljs-tag">ul</code> и <code class="hljs-tag">ol</code>.</p>

<pre class="highlight"><code class="hljs css"><span class="hljs-class">.textlist</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.textlist</span> &gt; <span class="hljs-tag">li</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding-left</span>:<span class="hljs-value"> <span class="hljs-number">2em</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">list-style-position</span>:<span class="hljs-value"> inside</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">text-indent</span>:<span class="hljs-value">-<span class="hljs-number">1em</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">overflow</span>:<span class="hljs-value"> hidden</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>

<p><code class="hljs-rule"><span class="hljs-attribute">overflow</span>: <span class="hljs-value">hidden</span></code>  тут нам нужен для того, чтобы запретить тексту обтекание картинки по строкам внутри <code class="hljs-tag">li</code>. Теперь каждая <code class="hljs-tag">li</code> обтекает картинку как прямоугольный блок.</p>

<p><code class="hljs-rule"><span class="hljs-attribute">list-style-position</span>: <span class="hljs-value">inside</span></code>  чтобы втянуть маркер списка внутрь блока.</p>

<p>А всё остальное, чтобы отступы выглядели как раньше.</p>

<figure>
    <img src="/2013/lists_and_floats//floated_images_and_lists_solution.png" width="800" height="580" alt="Маркеры списка не налазят на картинку">
    <figcaption>Маркеры списка больше не налазят на картинку</figcaption>
</figure>

<hr>

</div>

<h2>Новое решение</h2>

<p>Для списков, у которых нет классов, перенесём дефолтный отступ 2.5em с левого края на правый, а сами <code class="hljs-tag nowrap">li</code> сдвинем на те же 2.5em вправо при помощи <code class="hljs-rule"><span class="hljs-attribute">transform</span>: <span class="hljs-value">translateX(2.5em)</span></code>.</p>

<pre class="highlight"><code class="hljs css"><span class="hljs-tag">ul</span><span class="hljs-pseudo">:not(</span><span class="hljs-attr_selector">[class]</span>),
<span class="hljs-tag">ol</span><span class="hljs-pseudo">:not(</span><span class="hljs-attr_selector">[class]</span>) <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">padding-left</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding-right</span>:<span class="hljs-value"> <span class="hljs-number">2.5em</span></span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-tag">ul</span><span class="hljs-pseudo">:not(</span><span class="hljs-attr_selector">[class]</span>) <span class="hljs-tag">li</span>,
<span class="hljs-tag">ol</span><span class="hljs-pseudo">:not(</span><span class="hljs-attr_selector">[class]</span>) <span class="hljs-tag">li</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">transform</span>:<span class="hljs-value"> <span class="hljs-function">translateX</span>(<span class="hljs-number">2.5em</span>)</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>

<p>Списки, не имеющие класса, мы выбираем, чтобы не повредить меню, слайдеры и прочие конструкции, которые используют <code class="hljs-tag nowrap">ul li</code> в своей структуре. Подробнее про это в посте <a href="/2014/negation_css_selector/">про селектор :not()</a>.</p>

<p>В отличие от старого решения, элементы списка обтекают картинку естественным образом, не оставляя зазоров под картинкой.</p>

<p><a href="http://cssdeck.com/labs/floated-images-and-lists" class="link-to-demo" target="_blank">демка</a></p>

<p>Живой пример:</p>

<div class="demo">
    <img src="http://placehold.it/320x240" style="float:left; margin-right:1em" alt="">
    <p>Lorem ipsum.</p>
    <ul>
        <li>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat porro eligendi quod ratione quaerat dolores quia quasi provident. Veniam earum iste modi quam aliquam qui itaque corporis quia vel inventore.</li>
        <li>In dapibus dapibus risus in molestie. Vestibulum vestibulum, orci a aliquam iaculis, diam quam ultrices lacus, sed tincidunt augue elit vitae eros. </li>
        <li>Nunc id mauris sit amet orci rhoncus lobortis eu mollis justo. Phasellus enim dolor, pretium sed commodo vitae, ultrices ac nibh. Vivamus et turpis odio, ac ultricies nibh. Donec erat augue, tempus et aliquet et, porttitor vitae ante. </li>
        <li>Quisque eu ante in nisl rutrum facilisis nec sed orci. Integer vel nibh sit amet libero convallis tempus sit amet a enim. Nullam felis velit, auctor eu tristique eu, lacinia vitae turpis. </li>
        <li>Praesent nisl felis, aliquet quis volutpat id, pretium sit amet elit. Mauris consequat vestibulum purus sit amet ornare. In euismod hendrerit quam vitae vehicula.</li>
    </ul>
</div>
    </article>
    <div class="likely-container content-width">
    <div class="likely">
        <div class="facebook">Поделиться</div>
        <div class="twitter" data-via="paul_radzkov">Твитнуть</div>
        <div class="gplus">Плюсануть</div>
        <div class="vkontakte">Поделиться</div>
    </div>
</div>

    <footer class="page-footer content-width">
	<p class="copyrights">
		© <a href="//plus.google.com/+ПавелРадьков?rel=author" class="author"><span class="author-label">Автор:</span>Павел Радьков</a>
		
			2013.
		
		
	</p>
</footer>

    
    <div class="disqus-wrapper">
        <article id="disqus_thread" class="disqus-container"></article>
    </div>
    
    
    <nav class="read-next">
        <h4 class="read-next-title">Читать дальше:</h4>
        <div class="navlinks">
  <a href="/2012/pointer-events/" title="Previous Post: Pointer-events" class="navlinks-prev">&laquo; Pointer-events</a>
  <a href="/2014/negation_css_selector/" title="Next Post: CSS-селектор :not(). Полезные примеры" class="navlinks-next">CSS-селектор :not(). Полезные примеры &raquo;</a>
</div>
    </nav>
    
        <script src="http://paulradzkov.github.io/vendor/modernizr.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script>window.jQuery||document.write('<script src="http://paulradzkov.github.io/vendor/jquery.js"><\/script>');</script><script defer="defer" src="http://paulradzkov.github.io/js/output.min.js"></script><script type="text/javascript">var disqus_shortname="paulradzkov",disqus_url="http://paulradzkov.com/2013/lists_and_floats/",disqus_identifier="lists-and-floats",disqus_title="Списки и картинки с флоатами";!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="http://"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}(),function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="http://"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(t)}();</script><script type="text/javascript">!function(t,e,a){(e[a]=e[a]||[]).push(function(){try{e.yaCounter22878469=new Ya.Metrika({id:22878469,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(t){}});var c=t.getElementsByTagName("script")[0],n=t.createElement("script"),r=function(){c.parentNode.insertBefore(n,c)};n.type="text/javascript",n.async=!0,n.src=("https:"==t.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==e.opera?t.addEventListener("DOMContentLoaded",r,!1):r()}(document,window,"yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/22878469" style="position:absolute; left:-1px;" alt="" /></div></noscript>
    

    <script>ChatraID="m55vjivb29JgQgbXL",function(t,a,e){var r=t.getElementsByTagName("script")[0],c=t.createElement("script");a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},c.async=!0,c.src=("https:"===t.location.protocol?"https:":"http:")+"//chat.chatra.io/chatra.js",r.parentNode.insertBefore(c,r)}(document,window,"Chatra");</script><script defer="defer" src="https://apis.google.com/js/client.js?onload=gapiInit"></script><script>function gapiInit(){gapi.client.setApiKey(apiKey),gapi.auth.authorize({client_id:clientId,scope:scopes,immediate:!0},handleAuthResult)}function handleAuthResult(e){e&&!e.error?gapi.client.load("analytics","v3",makeApiCall):console.log("Not authorized")}function makeApiCall(){var e=gapi.client.analytics.data.ga.get({ids:tableIDs,"start-date":startDate,"end-date":"today",metrics:"ga:pageviews",filters:searchFilters});e.execute(handleCoreReportingResults)}function handleCoreReportingResults(e){e.error?console.log("There was an error: "+e.message):(console.log("Total pageviews since "+startDate+" : "+e.rows),$(".pageviews").show().append("Просмотров: "+e.rows))}var apiKey="AIzaSyCHQx2_4Kc-GL0eRB1wH9EfnraIVyAQueA",clientId="666487715579-h8ds9j92rsfrjtqho1u1oqldda9gm0gm.apps.googleusercontent.com",scopes=["https://www.googleapis.com/auth/analytics.readonly"],tableIDs="ga:56553165",startDate="2013-01-24",searchFilters="ga:pagePath==/2013/lists_and_floats/";</script></body></html>
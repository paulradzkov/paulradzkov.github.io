<!DOCTYPE html>
<html class="no-js" lang="ru">
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    
    <title>Перечёркивание крест-накрест</title>
    <meta name="description" content="Как при помощи CSS перечеркнуть слово или блок текста или картинку диагональными линиями крест-накрест.">
    <meta name="keywords" content="Paul Radzkov, web-developer, blog, html, css">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    
    <meta name="generator" content="DocPad v6.78.4">

    
    <link rel="stylesheet" href="/css/template.css"><link rel="stylesheet" href="custom.css">

    
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="alternate" type="application/atom+xml" title="Atom" href="/atom.xml">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canonical" href="http://paulradzkov.com/2012/crosswise/">

    <script type="text/javascript">!function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return window.localStorage&&localStorage.font_css_cache&&localStorage.font_css_cache_file===e}function n(){if(window.localStorage&&window.XMLHttpRequest)if(t(o))c(localStorage.font_css_cache);else{var e=new XMLHttpRequest;e.open("GET",o,!0),e.onreadystatechange=function(){4===e.readyState&&(c(e.responseText),localStorage.font_css_cache=e.responseText,localStorage.font_css_cache_file=o)},e.send()}else{var n=document.createElement("link");n.href=o,n.rel="stylesheet",n.type="text/css",document.getElementsByTagName("head")[0].appendChild(n),document.cookie="font_css_cache"}}function c(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}var o="/fonts/webfonts.css?v=0.0.1";window.localStorage&&localStorage.font_css_cache||document.cookie.indexOf("font_css_cache")>-1?n():e(window,"load",n)}();</script><meta property="og:title" content="Перечёркивание крест-накрест">
<meta property="og:description" content="Как при помощи CSS перечеркнуть слово или блок текста или картинку диагональными линиями крест-накрест.">

    <meta property="og:image" content="https://paulradzkov.github.io/i/og/og-index.png">


    <meta property="og:type" content="article">
    <meta property="og:article:published_time" content="Sun Oct 28 2012 03:00:00 GMT+0300 (FET)">
    
    <meta property="og:article:author" content="Павел Радьков">
    
    
    <meta property="og:article:tag" content="svg, css, svg, css">
    

<meta property="og:locale" content="ru_RU">

    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@paul_radzkov">
<meta name="twitter:title" content="Перечёркивание крест-накрест">
<meta name="twitter:description" content="Как при помощи CSS перечеркнуть слово или блок текста или картинку диагональными линиями крест-накрест.">

<meta name="twitter:image" content="https://paulradzkov.github.io/i/og/og-index.png">



    
    <script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-29416794-1","paulradzkov.com"),ga("send","pageview");</script></head><body class="layout-article">
    
    
    <header class="page-header">
        <nav class="read-siblings">
            <div class="navlinks">
  <a href="/2012/mobile_developing/" title="Previous Post: Отладка мобильных сайтов в Webkit. Инспектор кода на мобильных устройствах" class="navlinks-prev">&laquo; Отладка мобильных сайтов в Webkit. Инспектор кода на мобильных устройствах</a>
  <a href="/2012/chrome_dev_tools/" title="Next Post: Как отключить javascript в Google Chrome" class="navlinks-next">Как отключить javascript в Google Chrome &raquo;</a>
</div>
        </nav>
        <nav class="site-navigation">
            <a class="nav-icon nav-icon-centered js-menu-trigger" href="/" data-toggle="tooltip" data-placement="right" title="На главную"><img src="/i/home.svg" width="28" height="28" alt="На главную" onerror="this.onerror=null,this.src=&quot;/i/home.png&quot;"><span class="visuallyhidden">На главную</span></a>
        </nav>
        <aside class="nav-placeholder article-meta content-width">
            
            <p class="date"><time datetime="Sun Oct 28 2012 03:00:00 GMT+0300 (FET)">28 октября 2012</time></p>
            
        </aside>
        <div class="content-width">
            <h1 class="article-title">Перечёркивание крест-накрест</h1>
        </div>
        <aside class="article-meta content-width inlined">
            
            <span class="tags-list">
                
                    <a class="tag" href="/tags/svg/">svg</a>
                
                    <a class="tag" href="/tags/css/">css</a>
                
            </span>
            
            
            <span class="comments"><a href="#disqus_thread" data-disqus-identifier="crosswise">Комментарии</a></span>
            
            <span class="pageviews" style="display:none"></span>
        </aside>

    </header>
    
    
        <nav class="site-navigation sticky-nav" id="sticker">
            <a class="nav-icon js-menu-trigger" href="/" data-toggle="tooltip" data-placement="right" title="На главную"><img src="/i/home.svg" width="28" height="28" alt="На главную" onerror="this.onerror=null,this.src=&quot;/i/home.png&quot;"><span class="visuallyhidden">На главную</span></a>
        </nav>
    
    
    <article class="nav-placeholder page-content content-width" role="main">
        <p>Итак, задача: перечеркнуть слово или блок текста или картинку диагональными линиями крест-накрест. Нам поможет SVG.</p>


<p>
    <a href="/demo/crosswise/" class="link-to-demo">Демка</a>
</p>

<p>Напишем стили для строчного тега <code class="hljs-tag">del</code> и подготовим класс для перечёркивания блочных элементов <code class="hljs-class">.del-cross</code>.</p>
<pre class="highlight"><code class="hljs css"><span class="hljs-tag">del</span><span class="hljs-class">.cross</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value">inline-block</span></span>; <span class="hljs-comment">/* запрещает перенос текста на следующую строку */</span>
    <span class="hljs-rule"><span class="hljs-attribute">text-decoration</span>:<span class="hljs-value">none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">relative</span></span>;
<span class="hljs-rule">}</span></span>

<span class="hljs-class">.del-cross</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value">block</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">relative</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">overflow</span>:<span class="hljs-value">hidden</span></span>; <span class="hljs-comment">/* запрещает обтекать другие блоки */</span>
<span class="hljs-rule">}</span></span>

<span class="hljs-tag">del</span><span class="hljs-class">.cross</span><span class="hljs-pseudo">:before</span>,
<span class="hljs-class">.del-cross</span><span class="hljs-pseudo">:before</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">content</span>:<span class="hljs-value"><span class="hljs-string">''</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">absolute</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value">block</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value">auto</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value">auto</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">bottom</span>:<span class="hljs-value"><span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-function">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) <span class="hljs-function">url</span>(cross.svg) no-repeat</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-size</span>:<span class="hljs-value"><span class="hljs-number">100%</span> <span class="hljs-number">100%</span></span></span>; <span class="hljs-comment">/* растягивает фон на всю ширину и высоту блока */</span>
<span class="hljs-rule">}</span></span>
</code></pre>
<aside>
    <p>Примечание: лучше использовать <code class="hljs-pseudo">:before</code>, так как на <code class="hljs-pseudo">:after</code> может быть clearfix.</p>
</aside>

<p>Пример:</p>
<div class="demo">
    <div style="font:bold 18px/1.2 Arial">components / com_content / <del class="cross">views</del> / category / <del class="cross">tmpl</del> / blog.php <span>&rarr;</span> components / com_content /  category / blog.php</div>
    <div class="media">
        <figure class="img">
            <div class="del-cross">
                <img src="//placehold.it/300x200" width="300" height="200" alt="No kitten here">
            </div>
            <figcaption><p>Image caption</p></figcaption>
        </figure>
        <div class="bd">
            <p class="del-cross">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam sit amet lectus in ante lobortis suscipit. Nullam sed augue id ante tempor ultrices ut eget nibh. Donec ultrices aliquam aliquet. Sed non velit at enim auctor euismod ut eget dolor. Sed rutrum lacinia tellus porta suscipit. Nam tincidunt odio sed ipsum faucibus semper. Fusce malesuada justo ut turpis fringilla a egestas sem scelerisque. Cras ligula neque, pellentesque a eleifend vitae, vulputate id sapien. Aliquam vestibulum aliquam pretium. Proin ut nulla dui.</p>
            <p class="del-cross">Cras placerat elit sed nisi accumsan at porta elit lacinia. Aliquam erat volutpat. Mauris eu ipsum in urna gravida tristique rutrum ac est. Phasellus vulputate sagittis congue. Aenean nec justo eu neque vehicula imperdiet. Nunc eleifend, diam eu aliquam ullamcorper, ligula felis interdum nunc, ut tincidunt enim erat at orci.</p>
        </div>
    </div>
</div>
<p>Для картинок класс <code class="hljs-class">.del-cross</code> нужно ставить на их обёртку. Тег <code class="hljs-tag">img</code> не имеет псевдокласса <code class="hljs-pseudo">:before</code>.</p>
<p>А теперь посмотрим, что внутри SVG-файла, и как настроить цвет и толщину линий.</p>
<p><a href="/demo/crosswise/cross_old.svg">cross_old.svg</a>:</p>

<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">svg</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://www.w3.org/2000/svg"</span> <span class="hljs-attribute">viewBox</span>=<span class="hljs-value">"0 0 100 100"</span> <span class="hljs-attribute">preserveAspectRatio</span>=<span class="hljs-value">"none"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"stroke: rgba(255,0,0,0.9); stroke-width: 1.5"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">line</span> <span class="hljs-attribute">x1</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">y1</span>=<span class="hljs-value">"0"</span>   <span class="hljs-attribute">x2</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">y2</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">vector-effect</span>=<span class="hljs-value">"non-scaling-stroke"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">line</span> <span class="hljs-attribute">x1</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">y1</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">x2</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">y2</span>=<span class="hljs-value">"0"</span>   <span class="hljs-attribute">vector-effect</span>=<span class="hljs-value">"non-scaling-stroke"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">svg</span>&gt;</span>
</code></pre>
<p><code class="hljs-tag"><span class="hljs-attribute">viewBox</span>=<span class="hljs-value">&quot;0 0 100 100&quot;</span></code> — задает виртуальный размер картинки 100×100 безразмерных единиц. Формат записи: <code>x1 y1 x2 y2</code>.</p>
<p><code class="hljs-tag"><span class="hljs-attribute">preserveAspectRatio</span>=<span class="hljs-value">&quot;none&quot;</span></code> — отключает сохранение пропорций при масштабировании.</p>

<p><code class="hljs-tag"><span class="hljs-attribute">vector-effect</span>=<span class="hljs-value">&quot;non-scaling-stroke&quot;</span></code> — чтобы толщина линий не зависела от размеров картинки. К сожалению, не работает в IE9 и IE10.</p>
<p><code class="hljs-tag"><span class="hljs-attribute">style</span>=<span class="hljs-value">&quot;stroke: rgba(255,0,0,0.9); stroke-width: 1.5&quot;</span></code> — цвет линий можно задавать как в hex, так и в rgba с прозрачностью, а толщину линий делать дробной.</p>

<h2>Поддержка браузерами</h2>

<p>SVG не поддерживается IE8 и ниже. <del>Да и в IE9-IE10 толщина линий изменяется пропорционально размерам перечёркиваемого блока, что есть баг.</del> Есть решение.</p>
<p>Для браузеров, не поддерживающих SVG, можно сделать деградацию с помощью условных комментариев или наоборот, используя <a href="http://modernizr.com/">Modernizer</a>, сделать прогрессивное улучшение только для тех, кто умеет отображать SVG.</p>

<p><strong>Обновлено 9 апреля 2013</strong></p>

<p>В комментариях GreLI подсказал, что SVG-файл можно сократить до такого вида (<a href="/2012/crosswise//cross.svg">cross.svg</a>):</p>

<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">svg</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://www.w3.org/2000/svg"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"stroke: rgba(255,0,0,0.9); stroke-width: 1.5"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">line</span> <span class="hljs-attribute">x1</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">y1</span>=<span class="hljs-value">"0"</span>    <span class="hljs-attribute">x2</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">y2</span>=<span class="hljs-value">"100%"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">line</span> <span class="hljs-attribute">x1</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">y1</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">x2</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">y2</span>=<span class="hljs-value">"0"</span>    /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">svg</span>&gt;</span>
</code></pre>

<p>Задавая координаты линий в процентах, мы избавляемся от необходимости применять <code class="hljs-tag"><span class="hljs-attribute">vector-effect</span>=<span class="hljs-value">&quot;non-scaling-stroke&quot;</span></code>, который не работает в IE9 и IE10.</p>

<p>
    <a href="/demo/crosswise/" class="link-to-demo">Демка</a>
</p>
    </article>
    <div class="likely-container content-width">
    
    <div class="likely" data-url="http://paulradzkov.com/2012/crosswise/">
    
        <div class="facebook">Поделиться</div>
        <div class="twitter" data-via="paul_radzkov">Твитнуть</div>
        <div class="gplus">Плюсануть</div>
        <div class="vkontakte">Поделиться</div>
    </div>
</div>

    <footer class="page-footer content-width">
	<p class="copyrights">
		© <a href="//plus.google.com/+ПавелРадьков?rel=author" class="author"><span class="author-label">Автор:</span>Павел Радьков</a>
		
			2012.
		
		
	</p>
</footer>

    
    <div class="disqus-wrapper">
        <article id="disqus_thread" class="disqus-container"></article>
    </div>
    
    
    <nav class="read-next">
        <h4 class="read-next-title">Читать дальше:</h4>
        <div class="navlinks">
  <a href="/2012/mobile_developing/" title="Previous Post: Отладка мобильных сайтов в Webkit. Инспектор кода на мобильных устройствах" class="navlinks-prev">&laquo; Отладка мобильных сайтов в Webkit. Инспектор кода на мобильных устройствах</a>
  <a href="/2012/chrome_dev_tools/" title="Next Post: Как отключить javascript в Google Chrome" class="navlinks-next">Как отключить javascript в Google Chrome &raquo;</a>
</div>
    </nav>
    
        <script src="/vendor/modernizr.js"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script>window.jQuery||document.write('<script src="/vendor/jquery.js"><\/script>');</script><script defer="defer" src="/js/output.min.js"></script><script type="text/javascript">var disqus_shortname="paulradzkov",disqus_url="http://paulradzkov.com/2012/crosswise/",disqus_identifier="crosswise",disqus_title="Перечёркивание крест-накрест";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(e)}();</script><script type="text/javascript">!function(t,e,a){(e[a]=e[a]||[]).push(function(){try{e.yaCounter22878469=new Ya.Metrika({id:22878469,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(t){}});var c=t.getElementsByTagName("script")[0],n=t.createElement("script"),r=function(){c.parentNode.insertBefore(n,c)};n.type="text/javascript",n.async=!0,n.src=("https:"==t.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==e.opera?t.addEventListener("DOMContentLoaded",r,!1):r()}(document,window,"yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/22878469" style="position:absolute; left:-1px;" alt="" /></div></noscript>
    

    <script>ChatraID="m55vjivb29JgQgbXL",function(t,a,e){var r=t.getElementsByTagName("script")[0],c=t.createElement("script");a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},c.async=!0,c.src=("https:"===t.location.protocol?"https:":"http:")+"//chat.chatra.io/chatra.js",r.parentNode.insertBefore(c,r)}(document,window,"Chatra");</script><script defer="defer" src="https://apis.google.com/js/client.js?onload=gapiInit"></script><script>function gapiInit(){gapi.client.setApiKey(apiKey),gapi.auth.authorize({client_id:clientId,scope:scopes,immediate:!0},handleAuthResult)}function handleAuthResult(e){e&&!e.error?gapi.client.load("analytics","v3",makeApiCall):console.log("Not authorized")}function makeApiCall(){var e=gapi.client.analytics.data.ga.get({ids:tableIDs,"start-date":startDate,"end-date":"today",metrics:"ga:pageviews",filters:searchFilters});e.execute(handleCoreReportingResults)}function handleCoreReportingResults(e){e.error?console.log("There was an error: "+e.message):(console.log("Total pageviews since "+startDate+" : "+e.rows),$(".pageviews").show().append("Просмотров: "+e.rows))}var apiKey="AIzaSyCHQx2_4Kc-GL0eRB1wH9EfnraIVyAQueA",clientId="666487715579-h8ds9j92rsfrjtqho1u1oqldda9gm0gm.apps.googleusercontent.com",scopes=["https://www.googleapis.com/auth/analytics.readonly"],tableIDs="ga:56553165",startDate="2012-10-28",searchFilters="ga:pagePath==/2012/crosswise/";</script><script src="/upup.min.js"></script><script>UpUp.start({"content-url":"/offline/",assets:["/css/template.css","/avatar/paulradzkov_60x60.jpg","/avatar/paulradzkov_120x120.jpg","/avatar/paulradzkov_240x240.jpg","/vendor/fotorama/fotorama.css","/2014/markdown_cheatsheet/markdown_cheatsheet.css"]});</script></body></html>